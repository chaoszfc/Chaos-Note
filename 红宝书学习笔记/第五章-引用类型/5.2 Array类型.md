## 5.2  Array类型
#### 除了Object之外，Array类型恐怕是ECMAScript最常用的类型了。而且，ECMAScript中的数组与其他多数语言中的数组有着相当大的区别。虽然ECMAScript数组与其他语言中的数组都是数据的有序列表，但与其他语言不同的是，ECMAScript数组的每一项可以保存任何类型的数据。也就是说，可以用数组的第一个位置来保存字符串，用第二位置来保存数值，用第三个位置来保存对象，以此类推。而且，ECMAScript数组的大小可以动态调整的。既可以随着数据的添加自动增长以容纳新增数据。
#### 创建数组的基本方式有两种。第一种是使用Array构造函数，如下面代码所示。
```
var colors = new Array();   
```
#### 如果预先知道数组要保存的项目数量，也可以给构造函数传递该数量。而该数量会自动变成length属性的值。例如，下面的代码将创建length值为20的数组。
```
var colors = new Array(20);
```
#### 当然，给构造函数传递一个值也可以创建数组。但这个时候回问题就复杂一点了。因为如果传递的数值，则会按照该数值创建包含给定项数的数组，而如果传递的是其他类型的参数。则会创建包含那个值得只有一项的数组。下面就两个例子：
```
var colors = new Array(3);      //创建一个包含3项的数组
var names = new Array("Greg")   //创建一个包含1项，即字符串“Greg”的数组
```
#### 另外，在使用Array构造函数时也可以省略new操作符。如下面例子所示，省略new操作符的结果相同：
```
var colors = Array(3);          //创建一个包含3项的数组
var names = Array("Greg");      //创建一个包含1项，即字符创“Greg”的数组
```
#### 创建数组的第二种基本方式是使用数组字面量表示法。数组字面量由一对包含数组项的方括号表示，多个数组项之间以逗号隔开。
```
var colors = ["red","blue","green"];        //创建一个包含3个字符创的数组
var names = [];                             //创建一个空数组
var values = [1,2,];                        //这样会创建一个包含3或3项的数组
var options = [,,,,,];                      //这样会创建一个包含5或6项的数组
```
#### 以上代码，第三行展示的。在IE中，values会成为一个包含3个项且每项的值分别为1,2和undefined的数组，在其他浏览器中，values会成为一个包含2项且值分别为1和2的数组，原因是IE8及之前版本中的ECMAScript实现在数组字面量方面存在bug。由于这个bug导致第四行代码。该行代码可能会创建包含5项的数组，（在IE9+,Firefox,Opera,Safari和Chrome中），也可能会创建包含6项的数组（在IE8及更早版本中）。在像这种省略值的情况下，每一项都将获得undefined值。这个结果与调用array构造函数时传递项数在逻辑上是相同的。但是由于IE的实现与其他浏览器不一致，因此我们强烈建议不要使用。

#### 在读取和设置数组的值时。要使用方括号并提供相应值得基于0的数字索引，如下所示：
```
var colors = ["red","blue","green"]      //定义一个字符串数组
alert（color[0]）;                       //显示第一项
colors[2] = "black";                     //修改第三项
colors[3] = "brown";                     //新增第四项    
```
#### 方括号中的索引表示要访问的值。如果索引小于数组中的项数，则返回对应的值，如果索引超过数组现有项数，则自动增加到该索引值+1的长度。
#### 数组的项数保存在其length属性中。这个属性始终会返回0或者更大的值。
#### 数组的length属性有一个特点——它不是只读的。因此，通过设置这个属性，可以从数组的末尾移除项或向数组中添加新项。
```
var colors = ["red","blue","green"]
colors.length = 2;
alert(colors[2]);   //undefined
```
#### 当把一个值放在超出当前数组大小的位置上时。数组就会重新计算其长度值。即长度值等于最后一项的索引加1，如下面所示：
```
var colors = ["red","blue","green"]     //创建一个包含3个字符创的数组
colors[99] = "black"                    //添加一种颜色
alert(colors.length)    //100
```
#### 在这个栗子中，我们向colors数组的位置99插入一个值，结果数组新长度就是100.而位置3-98实际上都是不存在的。所以访问它们都将返回undefined。